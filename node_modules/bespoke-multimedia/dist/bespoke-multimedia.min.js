/*! bespoke-multimedia v1.1.0 Â© 2016 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.bespoke||(t.bespoke={}),t=t.plugins||(t.plugins={}),t.multimedia=e()}}(function(){return function e(t,n,o){function i(u,a){if(!n[u]){if(!t[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(r)return r(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return i(n?n:e)},c,c.exports,e,t,n,o)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,n){t.exports=function(){return function(e){var t=/\/\/player\.vimeo\.com\//,n=/\/\/www\.youtube\.com\/embed\//,o="command",i="file:"===location.protocol,r=function(e,t,n,o){for(var i=-1,r=t.querySelectorAll(e+(o||"")),u=r.length;++i<u;n(r[i]));},u=function(e,t){e.contentWindow.postMessage(JSON.stringify(t),"*")},a=function(e){var r=e.hasAttribute("data-rewind"),a=Math.min(Math.max(parseFloat(e.getAttribute("data-volume")),0),10);if(e.play)r&&e.readyState&&(e.currentTime=0),a>=0&&(e.volume=a/10),e.play();else if(n.test(e.src))r&&u(e,{event:o,func:"seekTo",args:[0]}),a>=0&&u(e,{event:o,func:"setVolume",args:[10*a]}),u(e,{event:o,func:"playVideo"});else if(t.test(e.src)){if(i)return console.warn("WARNING: Cannot play Vimeo video when deck is loaded via file://.");r&&u(e,{method:"seekTo",value:0}),a>=0&&u(e,{method:"setVolume",value:a/10}),u(e,{method:"play"})}},f=function(e){e.pause?e.pause():n.test(e.src)?u(e,{event:o,func:"pauseVideo"}):!i&&t.test(e.src)&&u(e,{method:"pause"})},s=function(e,t){e[t||"src"]=e.getAttribute(t||"src")},c=function(e){try{return e.contentDocument.rootElement}catch(t){}},d=function(e,t){(c(e)||e).classList[t||"add"]("active")},l=function(t){t.hasAttribute("data-reload")?s(t,"data"):c(t)?d(t):t.onload=function(){e.slides[e.slide()].contains(t)&&d(t)}},p=function(e){d(e,"remove")},m=r.bind(null,"audio,video,iframe"),v=r.bind(null,'object[type="image/svg+xml"]'),y=function(e){m(e,a)},g=function(e){m(e,f)},b=function(e){v(e,l)},h=function(e){v(e,p,":not([data-reload])")},w=function(e){return e.preview?g(e.slide):(y(e.slide),b(e.slide),void r('img[data-reload][src$=".gif"]',e.slide,s))},x=function(e){g(e.slide),h(e.slide)};e.on("activate",w),e.on("deactivate",x)}}},{}]},{},[1])(1)});